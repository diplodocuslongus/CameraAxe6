<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Camera Axe 6</title>
<!--Global Style-->
		<style>
			body{
				font-family: "arial";
				background-color: white;
			}
			button{
				padding: 12px;
				text-align: left;
				font-size: 20px;
			}
			.mainBox{
				width: 450px;
				height: 650px;
				padding: 12px;
				border: 1px solid #000;
			}
			.topText{
				float: left;
			}
			.topButton{
				float: right;
				margin-top:12px;
			}
		</style>
<!--Global Script-->
		<script>
			function redirectTo(href) {
				document.location.href=href;
			}
			function validateNumber(number,maxLength) {
				if (number.value.length > maxLength) {
					number.value = number.value.slice(0,maxLength); 
				}
				if (number.value.length > 1 && number.value[0]==0){
					number.value = (number.value).replace("0","");
				}
				if (number.value < 0 || number.value=="") {
					number.value = 0;
				}
				if (+number.value > +number.max) {
					number.value = number.max;
				}
			}
		</script>		
	</head>
	<body>
<!--Timebox Popup (Start-->
		<div id="timeboxModal" class="modal">
			<style>
				/* The Modal (background) */
				.modal {
					display: none; /* Hidden by default */
					position: fixed; /* Stay in place */
					z-index: 1; /* Sit on top */
					padding-top: 100px; /* Location of the box */
					left: 0;
					top: 0;
					width: 450px; /* Full width */
					height: 100%; /* Full height */
					overflow: auto; /* Enable scroll if needed */
				}

				/* Modal Content */
				.modal-content {
					background-color: #fefefe;
					margin: auto;
					padding: 20px;
					border: 1px solid #888;
					width: 80%;
				}

				/* The Close Button */
				.close {
					color: #aaaaaa;
					float: right;
					font-size: 28px;
					font-weight: bold;
				}

				.close:hover,
				.close:focus {
					color: #000;
					text-decoration: none;
					cursor: pointer;
				}
			</style>
			<div class="modal-content">
				<span class="close">&times;</span>
				<h3>Setting Time</h3>
				<form id="timeboxForm" name="timeboxForm">
					<table style="width:100%;">
						<tr style="display:none;" id="hours">
							<td style="width:50%;">Hours (0-999)</td>
							<td style="width:50%;">
								<input type="number" name="hours" min="0" max="999" oninput="validateNumber(this,3);" onkeypress="return event.charCode >= 48 && event.charCode <= 57" value="0" />
							</td>
						</tr>
						<tr style="display:none;" id="minutes">
							<td>Minutes (0-59)</td>
							<td>
								<input type="number" name="minutes" min="0" max="59" oninput="validateNumber(this,2);" onkeypress="return event.charCode >= 48 && event.charCode <= 57" value="0" />
							</td>
						</tr>
						<tr style="display:none;" id="seconds">
							<td>Seconds (0-59)</td>
							<td>
								<input type="number" name="seconds" min="0" max="59" oninput="validateNumber(this,2);" onkeypress="return event.charCode >= 48 && event.charCode <= 57" value="0" />
							</td>
						</tr>
						<tr style="display:none;" id="milliseconds">
							<td>Milliseconds (0-999)</td>
							<td>
								<input type="number" name="milliseconds" min="0" max="999" oninput="validateNumber(this,3);" onkeypress="return event.charCode >= 48 && event.charCode <= 57" value="0" />
							</td>
						</tr>
						<tr style="display:none;" id="microseconds">
							<td>Microseconds (0-999)</td>
							<td>
								<input type="number" name="microseconds" min="0" max="999" oninput="validateNumber(this,3);" onkeypress="return event.charCode >= 48 && event.charCode <= 57" value="0" />
							</td>
						</tr>
						<tr style="display:none;" id="nanoseconds">
							<td>Nanoseconds (0-999)</td>
							<td>
								<input type="number" name="nanoseconds" min="0" max="999" oninput="validateNumber(this,3);" onkeypress="return event.charCode >= 48 && event.charCode <= 57" value="0" />
							</td>
						</tr>
						<tr>
							<td style="text-align:center;" colspan="2"><br><br><br><br>
								<input type="hidden" id="boxName" name="boxName" value="">
								<button onclick="saveValues();" type="button">Ok</button>
							</td>
						</tr>
					</table>
				</form>
			</div>
			<script>
				// Get the modal
				var modal = document.getElementById('timeboxModal');

				// Get the <span> element that closes the modal
				var span = document.getElementsByClassName("close")[0];

				// When the user clicks the input, open the timebox modal 
				function openTimeBox(box,hours,minutes,seconds,milliseconds,microseconds,nanoseconds) {
					if(hours){
						document.getElementById("hours").style.display = "";
						document.getElementsByName("hours")[0].value=0;
					}else{
						document.getElementById("hours").style.display = "none";
					}
					
					if(minutes){
						document.getElementById("minutes").style.display = "";
						document.getElementsByName("minutes")[0].value=0;
					}else{
						document.getElementById("minutes").style.display = "none";
					}
					
					if(seconds){
						document.getElementById("seconds").style.display = "";
						document.getElementsByName("seconds")[0].value=0;
					}else{
						document.getElementById("seconds").style.display = "none";
					}
					
					if(milliseconds){
						document.getElementById("milliseconds").style.display = "";
						document.getElementsByName("milliseconds")[0].value=0;
					}else{
						document.getElementById("milliseconds").style.display = "none";
					}
					
					if(microseconds){
						document.getElementById("microseconds").style.display = "";
						document.getElementsByName("microseconds")[0].value=0;
					}else{
						document.getElementById("microseconds").style.display = "none";
					}
					
					if(nanoseconds){
						document.getElementById("nanoseconds").style.display = "";
						document.getElementsByName("nanoseconds")[0].value=0;
					}else{
						document.getElementById("nanoseconds").style.display = "none";
					}
					
					document.getElementById("boxName").value = box.name;
					
					loadValues(box,hours,minutes,seconds,milliseconds,microseconds,nanoseconds);
					modal.style.display = "block";
				}
				
				// When the user clicks on OK button, update the box value
				function saveValues(){
					var timeboxForm = document.forms["timeboxForm"];
					var boxValue = "";
					for(i=0; i<timeboxForm.length; i++)
					{
						if(timeboxForm[i].type=="number" && document.getElementById(timeboxForm[i].name).style.display!="none"){
							if(i>0 && boxValue!=""){
								if(timeboxForm[i].name=="minutes" || timeboxForm[i].name=="seconds"){
									boxValue += ":";
								}
								else{
									boxValue += ".";
								}
							}
							boxValue += timeboxForm[i].value;
						}
					}
					document.getElementsByName(document.getElementById("boxName").value)[0].value = boxValue;
					modal.style.display = "none";
				}
				
				// When the user clicks on input field, loads the current field value in timebox against each input fields
				function loadValues(inputField,hours,minutes,seconds,milliseconds,microseconds,nanoseconds){
					var timeArray = {
						"hours" : hours,
						"minutes" : minutes,
						"seconds" : seconds,
						"milliseconds" : milliseconds,
						"microseconds" : microseconds,
						"nanoseconds" : nanoseconds
					};
					var j=0;
					var i=0;
					var inputFieldValue = inputField.value;
					var splitInputField = inputFieldValue.split(/[:.]/);
					for(var key in timeArray){
						if(timeArray[key])
						{
							document.getElementsByName(key)[0].value = splitInputField[j];
							j++;
						}
					}
				}
				
				// When the user clicks on <span> (x), close the modal
				span.onclick = function() {
					modal.style.display = "none";
				}

				// When the user clicks anywhere outside of the modal, close it
				window.onclick = function(event) {
					if (event.target == modal) {
						modal.style.display = "none";
					}
				}
			</script>
		</div>
<!--Timebox Popup (End)-->
	
<!--Camera Flash Page (Start)-->

		<div id="cameraFlashPage" class="mainBox">
			<style>
				ul {
					list-style: none;
					padding:0px;
					margin:0px;
				}
				li {
					display: inline-block;
				}
				#customRadioButtons input[type=radio] {
					visibility:hidden;
					display:none;
				}
				label {
					cursor: pointer;
					padding:12px;
					border:1px solid;
				}
				input:checked + label {
					background: #00ff00;
				}
			</style>		

			<h1 class="topText">Camera Flash</h1>
			<button class="topButton" onclick="redirectTo('Home.html');">Home</button>
			<div style="clear:both;"></div>
			
			<form id="cameraFlashSetupForm" name="cameraFlashSetupForm">
				<ul id="customRadioButtons">
					<li>
						<input type='radio' checked value='1' name='radio' id='radio1'/>
						<label for='radio1'>1</label>
					</li>
					<li>
						<input type='radio' value='2' name='radio' id='radio2'/>
						<label for='radio2'>2</label>
					</li>
					<li>
						<input type='radio' value='3' name='radio' id='radio3'/>
						<label for='radio3'>3</label>
					</li>
					<li>
						<input type='radio' value='4' name='radio' id='radio4'/>
						<label for='radio4'>4</label>
					</li>
					<li>
						<input type='radio' value='5' name='radio' id='radio5'/>
						<label for='radio5'>5</label>
					</li>
					<li>
						<input type='radio' value='6' name='radio' id='radio6'/>
						<label for='radio6'>6</label>
					</li>
					<li>
						<input type='radio' value='7' name='radio' id='radio7'/>
						<label for='radio7'>7</label>
					</li>
					<li>
						<input type='radio' value='8' name='radio' id='radio8'/>
						<label for='radio8'>8</label>
					</li>
				</ul><br>
				<table style="width:100%;">
					<tr>
						<td style="width:50%;">Mode</td>
						<td style="width:50%;">
							<select name="mode">
								<option value="0">Camera</option>
								<option value="1">Camera Prefocus On</option>
								<option value="2">Flash</option>
							</select>
						</td>
					</tr>
					<tr>
						<td>Delay</td>
						<td>
							<input type="text" name="delay" onclick="openTimeBox(this,false,true,true,true,true,false);" value="0:0.0.0" />
						</td>
					</tr>
					<tr>
						<td>Duration (bulb)</td>
						<td>
							<input type="text" name="duration_bulb" onclick="openTimeBox(this,false,true,true,true,true,false);" value="0:0.0.0" />
						</td>
					</tr>
					<tr>
						<td>Post Trigger Delay</td>
						<td>
							<input type="text" name="post_trigger_delay" onclick="openTimeBox(this,false,false,true,true,true,false);" value="0:0.0" />
						</td>
					</tr>
					<tr>
						<td>Camera Lag</td>
						<td>
							<input type="text" name="camera_lag" onclick="openTimeBox(this,false,false,false,true,true,false);" value="0.0" />
						</td>
					</tr>
					<tr>
						<td colspan="2">
							Sequencer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							<input type="checkbox" checked name="sequencer1" value="1" />1 
							<input type="checkbox" checked name="sequencer2" value="2" />2 
							<input type="checkbox" checked name="sequencer3" value="3" />3 
							<input type="checkbox" checked name="sequencer4" value="4" />4 
							<input type="checkbox" checked name="sequencer5" value="5" />5 
							<input type="checkbox" checked name="sequencer6" value="6" />6 
							<input type="checkbox" checked name="sequencer7" value="7" />7 
							<input type="checkbox" checked name="sequencer8" value="8" />8 
						</td>
					</tr>
					<tr>
						<td>Smart Preview</td>
						<td>
							<input type="text" name="smart_preview" onclick="openTimeBox(this,false,true,false,false,false,false);" value="0" />
						</td>
					</tr>
					<tr>
						<td>
							Mirror Lockup
							<input style="float:right;" type="checkbox" checked name="mirror_lockup_check" value="1" />
						</td>
						<td>
							<input type="text"  name="mirror_lockup" onclick="openTimeBox(this,false,true,true,false,false,false);" value="0.0" />
						</td>
					</tr>
					<tr>
						<td>
							Apply Intervalometer
							<input style="float:right;" type="checkbox" checked name="apply_intervalometer" value="1" />
						</td>
						<td></td>
					</tr>
					<tr>
						<td colspan="2"><br><br><br><br><br><br><br>
							Copy Settings from Camera/Flash 
							<input type="text" name="copy_settings_from_camera_flash" value="--" />
						</td>
					</tr>
					<tr>
						<td style="text-align:center;" colspan="2"><br><br>
							<button onclick="debugInputs()" type="button">Test Trigger</button>
							<button type="reset">Reset Defaults</button>
						</td>
					</tr>
				</table>
			</form>
			<script>
				function debugInputs() {
					var cameraFlashSetupForm = document.forms["cameraFlashSetupForm"];
					var debugString = "";
					for(i=0; i<cameraFlashSetupForm.length; i++)
					{
						if(cameraFlashSetupForm[i].type=="button"){
							continue;
						}
						if(cameraFlashSetupForm[i].type=="radio" || cameraFlashSetupForm[i].type=="checkbox"){
							if(i>0 && debugString!=""){
								debugString += "#";
							}
							if(cameraFlashSetupForm[i].checked){
								debugString += "1";
							}
							else{
								debugString += "0";
							}
						}
						else{
							if(i>0 && debugString!=""){
								debugString += "#";
							}
							debugString += cameraFlashSetupForm[i].value;
						}
					}
					document.getElementById("debugText").innerHTML = debugString;
				}
			</script>
		</div>
<!--Camera Flash Page (End)-->
		<p id="debugText"> - </p>
	</body>
</html>